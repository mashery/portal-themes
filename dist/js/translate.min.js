/*!
 * translate.js v1.0.0
 * Provide multi-language portal suport
 * (c) 2017 TIBCO Software Inc.
 * Written by Chris Ferdinandi
 * All Rights Reserved
 */
!(function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e(t)})):"object"==typeof exports?module.exports=e(t):t.Translate=e(t)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(t){"use strict";var e={default:null,activeClass:"active",langBlockSelector:".translate",langBlockPrefix:".translate-",contentSelectors:null,initClass:"js-translate",dictionary:[]},n=function(){var t={},e=!1,a=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],a++);for(;a<arguments.length;a++){var r=arguments[a];!(function(a){for(var r in a)a.hasOwnProperty(r)&&(e&&"[object Object]"===Object.prototype.toString.call(a[r])?t[r]=n(t[r],a[r]):t[r]=a[r])})(r)}return t},a=function(t){var e=[];for(t=t.firstChild;t;t=t.nextSibling)3!==t.nodeType||t.parentElement.matches("script, [data-translate]")?e=e.concat(a(t)):e.push(t);return e};return function(r){var o,c,l={};l.updateOptions=function(t){o=n(e,t||{})},l.saveLang=function(t){localStorage.setItem("translateLang",t)},l.getSavedLang=function(){return localStorage.getItem("translateLang")},l.removeSavedLang=function(){localStorage.removeItem("translateLang")},l.setCurrentLang=function(t){if(!t){if(o.dictionary.length<1)return;for(var e=0;e<o.dictionary.length;e++){for(var n in o.dictionary[e]){t=n;break}break}o.default=t}c=t,l.saveLang(t)},l.toggleLangBlock=function(t){document.querySelectorAll(o.langBlockSelector+"."+o.activeClass).forEach((function(t){t.classList.remove(o.activeClass)})),document.querySelectorAll(o.langBlockPrefix+t).forEach((function(t){t.classList.add(o.activeClass)}))},l.translateContent=function(t,e){if(!(o.dictionary.length<1)){t="string"==typeof t?document.querySelector(t):t;var n=a(t);n.length<1||o.dictionary.forEach((function(t){if(t[e]&&t[c]){n.filter((function(e){return e.textContent.trim()===t[c].trim()})).forEach((function(n){n.textContent=t[e]}))}}))}};var i=function(t){o.contentSelectors&&document.querySelectorAll(o.contentSelectors).forEach((function(e){l.translateContent(e,t)}))};l.activateToggle=function(t,e){document.querySelectorAll('[data-translate="'+c+'"].'+o.activeClass).forEach((function(t){t.classList.remove(o.activeClass)})),e&&e.classList.add(o.activeClass)},l.run=function(t,e){l.activateToggle(t,e),t!==c&&(l.toggleLangBlock(t),i(t),l.setCurrentLang(t))};var u=function(t){var e=t.target.getAttribute("data-translate");e&&(t.preventDefault(),l.run(e,t.target))},s=function(){l.run(c,document.querySelector('[data-translate="'+c+'"]'))};return l.destroy=function(){o&&(l.run(o.default,document.querySelector('[data-translate="'+o.default+'"]')),document.removeEventListener("click",u,!1),t.removeEventListener("portalAfterRenderAjax",s,!1),l.removeSavedLang(),document.documentElement.classList.remove(o.initClass),o=null)},l.init=function(e){l.updateOptions(e),document.documentElement.classList.add(o.initClass);var n=l.getSavedLang();l.setCurrentLang(o.default);var a=n||c;l.run(a,document.querySelector('[data-translate="'+a+'"]')),document.addEventListener("click",u,!1),t.addEventListener("portalAfterRenderAjax",s,!1)},l.init(r),l}}));